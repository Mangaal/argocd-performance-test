# Metrics Profile for ArgoCD Performance Testing

# CPU Usage of ArgoCD Application Controller
- query: irate(process_cpu_seconds_total{container="argocd-application-controller",namespace="openshift-gitops"}[1m])
  metricName: argocdAppControllerCPU

# Memory Usage of ArgoCD Application Controller
- query: go_memstats_heap_alloc_bytes{container="argocd-application-controller",namespace="openshift-gitops"}
  metricName: argocdAppControllerHeapAllocMemory

- query: go_memstats_heap_inuse_bytes{container="argocd-application-controller",namespace="openshift-gitops"}
  metricName: argocdAppControllerHeapInuseMemory


# Number of k8s resource objects in the cache
- query: sum(argocd_cluster_api_resource_objects{namespace="openshift-gitops"})
  metricName: argocdClusterApiResourceObjects

# Number of monitored Kubernetes API resources
- query: sum(argocd_cluster_api_resources{namespace="openshift-gitops"}) 
  metricName: argocdClusterApiResources


#  ArgoCD Pending Kubectl Exec
- query: sum(argocd_kubectl_exec_pending{namespace=~".+"}) by (command)
  metricName: argocdPendingKubectlExec


  

